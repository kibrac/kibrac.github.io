<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
<script>
  
  
  (function() {
    const theme = localStorage.getItem('theme');
    if (theme === 'dark') {
      document.documentElement.setAttribute('data-theme', 'dark');
    } else if (theme === 'light') {
      document.documentElement.setAttribute('data-theme', 'light');
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
      document.documentElement.setAttribute('data-theme', 'dark');
    }
  })();
</script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>面向对象的程序设计学习笔记 1 | Kibrac&#39;s Blog</title>
<link rel="icon" type="image/png" href="/images/favicon.png">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,700;1,400;1,700&family=Montserrat:wght@400;700&family=JetBrains+Mono&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="/css/syntax.css">
<link rel="stylesheet" href="/css/style.css">

</head>
<body class="kind-page section-posts">
    <div id="content">
        <header class="site-header">
    <div class="container">
        <h1><a href="https://kibrac.github.io/">Kibrac&#39;s Blog</a></h1>
        <div class="header-right">
            <nav id="site-nav" class="site-nav">
                <ul>
                    
                    
                        
                        
                        
                        <li class="">
                            <a href="/">Home</a>
                        </li>
                    
                        
                        
                        
                        <li class="active">
                            <a href="/posts/">Posts</a>
                        </li>
                    
                        
                        
                        
                        <li class="">
                            <a href="/archive/">Archive</a>
                        </li>
                    
                        
                        
                        
                        <li class="">
                            <a href="/tags/">Tags</a>
                        </li>
                    
                </ul>
            </nav>
            <button id="theme-toggle" title="切换暗黑模式"></button>
            <button id="menu-toggle" class="menu-toggle" aria-label="Toggle Menu">
                <span class="hamburger"></span>
            </button>
        </div>
    </div>
</header>
        <main class="main-content">
            
<article class="post-single">
    <header class="page-header">
        <h1>面向对象的程序设计学习笔记 1</h1>
        
            <p class="page-content">第一章 从 C 到 C&#43;&#43;</p>
        
        <div class="post-meta">
            <span>July 31, 2025</span>
            <span class="dot">&middot;</span>
            <span>3 min read</span>
            
                <span class="dot">&middot;</span>
                <div class="tags-inline">
                    
                        <a href="/tags/c&#43;&#43;">C&#43;&#43;</a>
                    
                        <a href="/tags/%E7%AC%94%E8%AE%B0">笔记</a>
                    
                </div>
            
        </div>
    </header>

    <div class="post-content">
        <p>课程链接：<a href="https://www.icourse163.org/course/PKU-1002029030">程序设计与算法（三）C++面向对象程序设计_北京大学_中国大学MOOC(慕课)</a></p>
<h2 id="1引用">1.引用</h2>
<h3 id="引用写法">引用写法</h3>
<div class="code-block-wrapper">
    <div class="code-block-header">
        <span class="language-name">text</span>
        <button class="copy-code-button" aria-label="Copy code to clipboard">
            <i class="fa-regular fa-copy"></i>
            <span class="copy-text">Copy</span>
            <span class="copied-text" style="display: none;">Copied!</span>
        </button>
    </div>
    <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">类型名 &amp; 引用名 = 某变量名</span></span></code></pre></td></tr></table>
</div>
</div>
</div><ul>
<li>定义引用是一定要将其<strong>初始化</strong>成引用某个变量</li>
<li>初始化后，它就一直引用该变量，不会再引用别的变量了</li>
<li>引用只能引用变量，不能引用常量和表达式</li>
</ul>
<p>引用应用的简单举例：两数交换</p>
<div class="code-block-wrapper">
    <div class="code-block-header">
        <span class="language-name">cpp</span>
        <button class="copy-code-button" aria-label="Copy code to clipboard">
            <i class="fa-regular fa-copy"></i>
            <span class="copy-text">Copy</span>
            <span class="copied-text" style="display: none;">Copied!</span>
        </button>
    </div>
    <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">swap</span><span class="p">(</span><span class="kt">int</span> <span class="o">&amp;</span> <span class="n">a</span><span class="p">,</span><span class="kt">int</span> <span class="o">&amp;</span> <span class="n">b</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">tmp</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="n">tmp</span><span class="o">=</span><span class="n">a</span><span class="p">;</span><span class="n">a</span><span class="o">=</span><span class="n">b</span><span class="p">;</span><span class="n">b</span><span class="o">=</span><span class="n">tmp</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">n1</span><span class="p">,</span><span class="n">n2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">swap</span><span class="p">(</span><span class="n">n1</span><span class="p">,</span><span class="n">n2</span><span class="p">);</span><span class="c1">//n1,n2的值被交换
</span></span></span></code></pre></td></tr></table>
</div>
</div>
</div><h3 id="常引用">常引用</h3>
<p><code>const int &amp;</code></p>
<ul>
<li>不能通过常引用去修改其引用的内容</li>
</ul>
<div class="code-block-wrapper">
    <div class="code-block-header">
        <span class="language-name">cpp</span>
        <button class="copy-code-button" aria-label="Copy code to clipboard">
            <i class="fa-regular fa-copy"></i>
            <span class="copy-text">Copy</span>
            <span class="copied-text" style="display: none;">Copied!</span>
        </button>
    </div>
    <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">n</span><span class="o">=</span><span class="mi">100</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">const</span> <span class="kt">int</span> <span class="o">&amp;</span> <span class="n">r</span><span class="o">=</span><span class="n">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">r</span><span class="o">=</span><span class="mi">200</span><span class="p">;</span><span class="c1">//编译错
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">n</span><span class="o">=</span><span class="mi">300</span><span class="p">;</span><span class="c1">//没问题
</span></span></span></code></pre></td></tr></table>
</div>
</div>
</div><p><strong>const T &amp; 和 T &amp; 是不同的类型！</strong></p>
<ul>
<li>T &amp; 类型的引用或 T 类型的变量可以用来初始化 const T &amp; 类型的引用</li>
<li>const T 类型的常变量和 const T &amp; 类型的引用则不能用来初始化 T &amp; 类型的引用，除非进行<strong>强制类型转换</strong>。</li>
</ul>
<h2 id="2const-关键字">2.const 关键字</h2>
<p>常量指针 <code>const int *</code></p>
<ul>
<li>不可通过常量指针修改其指向的内容</li>
</ul>
<div class="code-block-wrapper">
    <div class="code-block-header">
        <span class="language-name">cpp</span>
        <button class="copy-code-button" aria-label="Copy code to clipboard">
            <i class="fa-regular fa-copy"></i>
            <span class="copy-text">Copy</span>
            <span class="copied-text" style="display: none;">Copied!</span>
        </button>
    </div>
    <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">n</span><span class="p">,</span><span class="n">m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">const</span> <span class="kt">int</span><span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="o">*</span><span class="n">p</span><span class="o">=</span><span class="mi">5</span><span class="p">;</span><span class="c1">//编译出错
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">n</span><span class="o">=</span><span class="mi">4</span><span class="p">;</span><span class="c1">//ok
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">p</span><span class="o">=&amp;</span><span class="n">m</span><span class="p">;</span><span class="c1">//ok，常量指针的指向可以变化
</span></span></span></code></pre></td></tr></table>
</div>
</div>
</div><ul>
<li>不能把常量指针赋值给非常量指针，反过来可以</li>
</ul>
<div class="code-block-wrapper">
    <div class="code-block-header">
        <span class="language-name">cpp</span>
        <button class="copy-code-button" aria-label="Copy code to clipboard">
            <i class="fa-regular fa-copy"></i>
            <span class="copy-text">Copy</span>
            <span class="copied-text" style="display: none;">Copied!</span>
        </button>
    </div>
    <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">const</span> <span class="kt">int</span><span class="o">*</span> <span class="n">p1</span><span class="p">;</span><span class="kt">int</span><span class="o">*</span> <span class="n">p2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">p1</span><span class="o">=</span><span class="n">p2</span><span class="p">;</span><span class="c1">//ok
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">p2</span><span class="o">=</span><span class="n">p1</span><span class="p">;</span><span class="c1">//error
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">p2</span><span class="o">=</span><span class="p">(</span><span class="kt">int</span><span class="o">*</span><span class="p">)</span><span class="n">p1</span><span class="p">;</span><span class="c1">//ok，强制类型转换
</span></span></span></code></pre></td></tr></table>
</div>
</div>
</div><ul>
<li>函数参数为常量指针时，可避免函数内部不小心改变参数指针所指地方的内容</li>
</ul>
<div class="code-block-wrapper">
    <div class="code-block-header">
        <span class="language-name">cpp</span>
        <button class="copy-code-button" aria-label="Copy code to clipboard">
            <i class="fa-regular fa-copy"></i>
            <span class="copy-text">Copy</span>
            <span class="copied-text" style="display: none;">Copied!</span>
        </button>
    </div>
    <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">MyPrintf</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">p</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">strcpy</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="s">&#34;this&#34;</span><span class="p">);</span><span class="c1">//编译出错
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">printf</span><span class="p">(</span><span class="s">&#34;%s&#34;</span><span class="p">,</span><span class="n">p</span><span class="p">);</span><span class="c1">//ok
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div>
</div><h2 id="3动态内存分配">3.动态内存分配</h2>
<h3 id="用-new-运算符实现动态内存分配">用 new 运算符实现动态内存分配</h3>
<h4 id="第一种用法-分配一个变量">第一种用法 分配一个变量</h4>
<div class="code-block-wrapper">
    <div class="code-block-header">
        <span class="language-name">cpp</span>
        <button class="copy-code-button" aria-label="Copy code to clipboard">
            <i class="fa-regular fa-copy"></i>
            <span class="copy-text">Copy</span>
            <span class="copied-text" style="display: none;">Copied!</span>
        </button>
    </div>
    <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="n">P</span> <span class="o">=</span> <span class="k">new</span> <span class="n">T</span><span class="p">;</span></span></span></code></pre></td></tr></table>
</div>
</div>
</div><p>T 是任意<strong>类型名</strong>，P 是类型为 <code>T *</code> 的指针，动态分配出一片大小为 <strong>sizeof(T)</strong> 字节的内存空间，并且将该内存空间的起始地址复制给 P。</p>
<div class="code-block-wrapper">
    <div class="code-block-header">
        <span class="language-name">cpp</span>
        <button class="copy-code-button" aria-label="Copy code to clipboard">
            <i class="fa-regular fa-copy"></i>
            <span class="copy-text">Copy</span>
            <span class="copied-text" style="display: none;">Copied!</span>
        </button>
    </div>
    <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">int</span><span class="o">*</span> <span class="n">pn</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">pn</span><span class="o">=</span><span class="k">new</span> <span class="kt">int</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="o">*</span> <span class="n">pn</span><span class="o">=</span><span class="mi">5</span><span class="p">;</span></span></span></code></pre></td></tr></table>
</div>
</div>
</div><h4 id="第二种用法-分配一个数组">第二种用法 分配一个数组</h4>
<div class="code-block-wrapper">
    <div class="code-block-header">
        <span class="language-name">cpp</span>
        <button class="copy-code-button" aria-label="Copy code to clipboard">
            <i class="fa-regular fa-copy"></i>
            <span class="copy-text">Copy</span>
            <span class="copied-text" style="display: none;">Copied!</span>
        </button>
    </div>
    <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="n">P</span> <span class="o">=</span> <span class="k">new</span> <span class="n">T</span><span class="p">[</span><span class="n">N</span><span class="p">];</span></span></span></code></pre></td></tr></table>
</div>
</div>
</div><p>T 是任意<strong>类型名</strong>，P 是类型为 <code>T *</code> 的指针，N 是要分配的数组元素的个数，可以是<strong>整形表达式</strong>，动态分配出一片大小为 N*sizeof(T) 字节的内存空间，并且将该内存空间的<strong>起始地址</strong>赋值给 P。</p>
<div class="code-block-wrapper">
    <div class="code-block-header">
        <span class="language-name">cpp</span>
        <button class="copy-code-button" aria-label="Copy code to clipboard">
            <i class="fa-regular fa-copy"></i>
            <span class="copy-text">Copy</span>
            <span class="copied-text" style="display: none;">Copied!</span>
        </button>
    </div>
    <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">int</span><span class="o">*</span> <span class="n">pn</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">5</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">pn</span><span class="o">=</span><span class="k">new</span> <span class="kt">int</span><span class="p">[</span><span class="n">i</span><span class="o">*</span><span class="mi">20</span><span class="p">];</span>
</span></span><span class="line"><span class="cl"><span class="n">pn</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="mi">20</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">pn</span><span class="p">[</span><span class="mi">100</span><span class="p">]</span><span class="o">=</span><span class="mi">30</span><span class="p">;</span><span class="c1">//编译没问题，运行时数组越界
</span></span></span></code></pre></td></tr></table>
</div>
</div>
</div><h3 id="用-delete-运算符释放动态分配的内存">用 delete 运算符释放动态分配的内存</h3>
<p><strong>用“new”动态分配的内存空间，一定要用“delete”运算符进行释放</strong></p>
<div class="code-block-wrapper">
    <div class="code-block-header">
        <span class="language-name">cpp</span>
        <button class="copy-code-button" aria-label="Copy code to clipboard">
            <i class="fa-regular fa-copy"></i>
            <span class="copy-text">Copy</span>
            <span class="copied-text" style="display: none;">Copied!</span>
        </button>
    </div>
    <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">delete</span> <span class="err">指针</span><span class="p">;</span><span class="c1">//该指针必须指向new出来的空间
</span></span></span></code></pre></td></tr></table>
</div>
</div>
</div><div class="code-block-wrapper">
    <div class="code-block-header">
        <span class="language-name">cpp</span>
        <button class="copy-code-button" aria-label="Copy code to clipboard">
            <i class="fa-regular fa-copy"></i>
            <span class="copy-text">Copy</span>
            <span class="copied-text" style="display: none;">Copied!</span>
        </button>
    </div>
    <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">int</span><span class="o">*</span> <span class="n">p</span><span class="o">=</span><span class="k">new</span> <span class="kt">int</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="o">*</span> <span class="n">p</span><span class="o">=</span><span class="mi">5</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">delete</span> <span class="n">p</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">delete</span> <span class="n">p</span><span class="p">;</span><span class="c1">//导致异常，一片空间不能多次被delete
</span></span></span></code></pre></td></tr></table>
</div>
</div>
</div><h3 id="用-delete-运算符释放动态分配的数组">用 delete 运算符释放动态分配的数组</h3>
<p><strong>用“delete”释放动态分配的数组，要加“[]”</strong></p>
<div class="code-block-wrapper">
    <div class="code-block-header">
        <span class="language-name">cpp</span>
        <button class="copy-code-button" aria-label="Copy code to clipboard">
            <i class="fa-regular fa-copy"></i>
            <span class="copy-text">Copy</span>
            <span class="copied-text" style="display: none;">Copied!</span>
        </button>
    </div>
    <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">delete</span> <span class="p">[]</span> <span class="err">指针</span><span class="p">;</span><span class="c1">//该指针必须指向new出来的数组
</span></span></span></code></pre></td></tr></table>
</div>
</div>
</div><div class="code-block-wrapper">
    <div class="code-block-header">
        <span class="language-name">cpp</span>
        <button class="copy-code-button" aria-label="Copy code to clipboard">
            <i class="fa-regular fa-copy"></i>
            <span class="copy-text">Copy</span>
            <span class="copied-text" style="display: none;">Copied!</span>
        </button>
    </div>
    <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">int</span><span class="o">*</span> <span class="n">p</span><span class="o">=</span><span class="k">new</span> <span class="kt">int</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span>
</span></span><span class="line"><span class="cl"><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">delete</span> <span class="p">[]</span><span class="n">p</span><span class="p">;</span></span></span></code></pre></td></tr></table>
</div>
</div>
</div><h2 id="4内联函数函数重载函数缺省参数">4.内联函数、函数重载、函数缺省参数</h2>
<h3 id="内联函数">内联函数</h3>
<p>在函数定义前面加“inline”关键字，即可定义内联函数</p>
<div class="code-block-wrapper">
    <div class="code-block-header">
        <span class="language-name">cpp</span>
        <button class="copy-code-button" aria-label="Copy code to clipboard">
            <i class="fa-regular fa-copy"></i>
            <span class="copy-text">Copy</span>
            <span class="copied-text" style="display: none;">Copied!</span>
        </button>
    </div>
    <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kr">inline</span> <span class="kt">int</span> <span class="nf">Max</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span><span class="kt">int</span> <span class="n">b</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span><span class="p">(</span><span class="n">a</span><span class="o">&gt;</span><span class="n">b</span><span class="p">)</span><span class="k">return</span> <span class="n">a</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="n">b</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div>
</div><h3 id="函数重载">函数重载</h3>
<p>一个或多个函数，名字相同，然而<strong>参数个数</strong>或<strong>参数类型</strong>不相同，这叫做函数的重载。</p>
<p>以下三个函数是重载关系</p>
<div class="code-block-wrapper">
    <div class="code-block-header">
        <span class="language-name">cpp</span>
        <button class="copy-code-button" aria-label="Copy code to clipboard">
            <i class="fa-regular fa-copy"></i>
            <span class="copy-text">Copy</span>
            <span class="copied-text" style="display: none;">Copied!</span>
        </button>
    </div>
    <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">Max</span><span class="p">(</span><span class="kt">double</span> <span class="n">f1</span><span class="p">,</span><span class="kt">double</span> <span class="n">f2</span><span class="p">){}</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">Max</span><span class="p">(</span><span class="kt">int</span> <span class="n">n1</span><span class="p">,</span><span class="kt">int</span> <span class="n">n2</span><span class="p">){}</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">Max</span><span class="p">(</span><span class="kt">int</span> <span class="n">n1</span><span class="p">,</span><span class="kt">int</span> <span class="n">n2</span><span class="p">,</span><span class="kt">int</span> <span class="n">n3</span><span class="p">){}</span></span></span></code></pre></td></tr></table>
</div>
</div>
</div><ul>
<li>函数重载使得函数命名变得简单</li>
<li>编译器根据调用语句中的实参的个数和类型判断应该调用哪个函数</li>
</ul>
<h3 id="函数的缺省参数">函数的缺省参数</h3>
<p>C++ 中，定义函数的时候可以让<strong>最右边的连续若干个</strong>参数有<strong>缺省值</strong>，那么调用函数的时候，若相应位置不写参数，参数就是<strong>缺省值</strong>。</p>
<div class="code-block-wrapper">
    <div class="code-block-header">
        <span class="language-name">cpp</span>
        <button class="copy-code-button" aria-label="Copy code to clipboard">
            <i class="fa-regular fa-copy"></i>
            <span class="copy-text">Copy</span>
            <span class="copied-text" style="display: none;">Copied!</span>
        </button>
    </div>
    <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">func</span><span class="p">(</span><span class="kt">int</span> <span class="n">x1</span><span class="p">,</span><span class="kt">int</span> <span class="n">x2</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="kt">int</span> <span class="n">x3</span><span class="o">=</span><span class="mi">3</span><span class="p">){}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">func</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span><span class="c1">//等效于func(10,2,3)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">func</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">8</span><span class="p">);</span><span class="c1">//等效于func(10,8,3)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">func</span><span class="p">(</span><span class="mi">10</span><span class="p">,,</span><span class="mi">8</span><span class="p">);</span><span class="c1">//不行，只能最右边的连续若干个参数缺省
</span></span></span></code></pre></td></tr></table>
</div>
</div>
</div><blockquote>
<p>函数参数可缺省的目的在于提高程序的可扩充性，即如果某个写好的函数想要添加新的参数，而原先那些调用该函数的语句，未必需要使用新增的参数，那么为了避免对原先那些函数调用语句的修改，就可以使用缺省参数。</p></blockquote>
<h2 id="5类和对象的基本概念">5.类和对象的基本概念</h2>
<p>面向对象的程序设计具有<strong>抽象、封装、继承、多态</strong>四个基本特点。</p>
<h3 id="从客观事物中抽象出类">从客观事物中抽象出类</h3>
<blockquote>
<p><strong>举例</strong></p>
<p>写一个程序，输入矩形的长和宽，输出面积和周长</p>
<blockquote>
<p>比如对于“矩形”这种东西，要用一个类表示，该如何做抽象？</p>
<blockquote>
<p>矩形的属性就是长和宽。因此需要两个变量，分别代表长和宽。</p></blockquote>
<p>一个矩形，可以有哪些行为呢？</p>
<blockquote>
<p>矩形可以设置长和宽，算面积以及算周长这三种行为（当然也可以设置其他行为）
这三种行为，可以各用一个函数来实现，他们都需要用到长和宽这两个变量。</p></blockquote></blockquote></blockquote>
<ul>
<li>将长、宽变量和设置长、宽，求面积，以及求周长的三个函数<strong>封装</strong>在一起，就能形成一个<strong>矩形类</strong>。</li>
<li>长、宽变量成为该“矩形类”的<strong>成员变量</strong>，三个函数成为该类的<strong>成员函数</strong>。成员变量和成员函数统称为<strong>类的成员</strong>。</li>
</ul>
<div class="code-block-wrapper">
    <div class="code-block-header">
        <span class="language-name">cpp</span>
        <button class="copy-code-button" aria-label="Copy code to clipboard">
            <i class="fa-regular fa-copy"></i>
            <span class="copy-text">Copy</span>
            <span class="copied-text" style="display: none;">Copied!</span>
        </button>
    </div>
    <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">CRectangle</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">		<span class="kt">int</span> <span class="n">w</span><span class="p">,</span><span class="n">h</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="kt">int</span> <span class="nf">Area</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">			<span class="k">return</span> <span class="n">w</span><span class="o">*</span><span class="n">h</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="kt">int</span> <span class="nf">Perimeter</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">			<span class="k">return</span> <span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">w</span><span class="o">+</span><span class="n">h</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="kt">void</span> <span class="nf">Init</span><span class="p">(</span><span class="kt">int</span> <span class="n">w_</span><span class="p">,</span><span class="kt">int</span> <span class="n">h_</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">			<span class="n">w</span><span class="o">=</span><span class="n">w_</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">			<span class="n">h</span><span class="o">=</span><span class="n">h_</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span><span class="c1">//必须有分号
</span></span></span></code></pre></td></tr></table>
</div>
</div>
</div><p>如何使用类？</p>
<div class="code-block-wrapper">
    <div class="code-block-header">
        <span class="language-name">cpp</span>
        <button class="copy-code-button" aria-label="Copy code to clipboard">
            <i class="fa-regular fa-copy"></i>
            <span class="copy-text">Copy</span>
            <span class="copied-text" style="display: none;">Copied!</span>
        </button>
    </div>
    <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">w</span><span class="p">,</span><span class="n">h</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="n">CRectangle</span> <span class="n">r</span><span class="p">;</span><span class="c1">//r是一个对象
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">w</span> <span class="o">&gt;&gt;</span> <span class="n">h</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="n">r</span><span class="p">.</span><span class="n">Init</span><span class="p">(</span><span class="n">w</span><span class="p">,</span><span class="n">h</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">r</span><span class="p">.</span><span class="n">Area</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span> <span class="o">&lt;&lt;</span> <span class="n">r</span><span class="p">.</span><span class="n">Perimeter</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div>
</div><ul>
<li>通过类，可以定义变量。类定义出来的<strong>变量</strong>，也称为类的实例，就是我们所说的“<strong>对象</strong>”。</li>
<li>C++ 中，类的名字就是用户自定义的类型的名字，可以像使用基本类型那样来使用它。</li>
</ul>
<p><strong>和结构变量一样，对象之间可以用“=”进行赋值，但是不能进行比较，除非这些运算符经过了“重载”。</strong></p>
<p>这句话的意思是：对象之间可以直接用等号 <code>=</code> 互相赋值（比如 <code>obj2 = obj1</code>），但默认情况下不能用 <code>==</code>、<code>&gt;</code> 等符号比较大小，除非你专门为这些比较符号 &quot; 写说明书 &ldquo;（即运算符重载）。</p>
<p>举个生活化的例子：</p>
<ol>
<li>
<p><strong>赋值（<code>=</code>）</strong>：<br>
就像复印机默认能复印文件（直接 <code>obj2 = obj1</code>），把一份文件的内容完整复制到另一份。</p>
</li>
<li>
<p><strong>比较（<code>==</code>、<code>&gt;</code> 等）</strong>：<br>
但如果你想比较两本书哪本更厚，复印机不会自动判断——除非你<strong>亲自告诉它规则</strong>（重载运算符）。比如：</p>
</li>
</ol>
<div class="code-block-wrapper">
    <div class="code-block-header">
        <span class="language-name">cpp</span>
        <button class="copy-code-button" aria-label="Copy code to clipboard">
            <i class="fa-regular fa-copy"></i>
            <span class="copy-text">Copy</span>
            <span class="copied-text" style="display: none;">Copied!</span>
        </button>
    </div>
    <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">bool</span> <span class="k">operator</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Book</span> <span class="n">a</span><span class="p">,</span> <span class="n">Book</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span> 
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="n">a</span><span class="p">.</span><span class="n">page_count</span> <span class="o">&gt;</span> <span class="n">b</span><span class="p">.</span><span class="n">page_count</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div>
</div><p>这样 <code>book1 &gt; book2</code> 就能比较页数了。</p>
<p>为什么这样设计？</p>
<p>• <strong>赋值</strong>：对象内部可能有复杂数据，直接复制内存是最简单的默认行为。<br>
• <strong>比较</strong>：不同对象比较规则不同（比如学生按分数比，汽车按价格比），必须由程序员自定义。</p>
<p>简单说：<strong><code>=</code> 是 &quot; 无脑复制 &ldquo;，而 <code>==</code> 需要你教计算机怎么比</strong>。</p>
<h3 id="使用类的成员变量和成员函数">使用类的成员变量和成员函数</h3>
<p>用法一：对象名.成员名</p>
<div class="code-block-wrapper">
    <div class="code-block-header">
        <span class="language-name">cpp</span>
        <button class="copy-code-button" aria-label="Copy code to clipboard">
            <i class="fa-regular fa-copy"></i>
            <span class="copy-text">Copy</span>
            <span class="copied-text" style="display: none;">Copied!</span>
        </button>
    </div>
    <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="n">CRectangle</span> <span class="n">r1</span><span class="p">,</span><span class="n">r2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">r1</span><span class="p">.</span><span class="n">w</span><span class="o">=</span><span class="mi">5</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">r2</span><span class="p">.</span><span class="n">Init</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">);</span><span class="c1">//Init 函数作用在r2上，访问到的w，h是属于r2这个对象的，不会影响到r1
</span></span></span></code></pre></td></tr></table>
</div>
</div>
</div><p>用法二：指针 -&gt;成员名</p>
<div class="code-block-wrapper">
    <div class="code-block-header">
        <span class="language-name">cpp</span>
        <button class="copy-code-button" aria-label="Copy code to clipboard">
            <i class="fa-regular fa-copy"></i>
            <span class="copy-text">Copy</span>
            <span class="copied-text" style="display: none;">Copied!</span>
        </button>
    </div>
    <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="n">CRectangle</span> <span class="n">r1</span><span class="p">,</span><span class="n">r2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">CRectangle</span><span class="o">*</span> <span class="n">p1</span><span class="o">=</span> <span class="o">&amp;</span> <span class="n">r1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">CRectangle</span><span class="o">*</span> <span class="n">p2</span><span class="o">=</span> <span class="o">&amp;</span> <span class="n">r2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">p1</span><span class="o">-&gt;</span><span class="n">w</span><span class="o">=</span><span class="mi">5</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">p2</span><span class="o">-&gt;</span><span class="n">Init</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">);</span><span class="c1">//Init 作用在 p2 指向的对象上
</span></span></span></code></pre></td></tr></table>
</div>
</div>
</div><p>用法三：引用名.成员名</p>
<div class="code-block-wrapper">
    <div class="code-block-header">
        <span class="language-name">cpp</span>
        <button class="copy-code-button" aria-label="Copy code to clipboard">
            <i class="fa-regular fa-copy"></i>
            <span class="copy-text">Copy</span>
            <span class="copied-text" style="display: none;">Copied!</span>
        </button>
    </div>
    <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="n">CRectangle</span> <span class="n">r2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">CRectangle</span> <span class="o">&amp;</span> <span class="n">rr</span> <span class="o">=</span> <span class="n">r2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">rr</span><span class="p">.</span><span class="n">w</span><span class="o">=</span><span class="mi">5</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">rr</span><span class="p">.</span><span class="n">Init</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">);</span><span class="c1">//rr的值变，r2的值也变
</span></span></span></code></pre></td></tr></table>
</div>
</div>
</div>
    </div>

    
<nav class="post-navigation">
    
    <span></span> 
    
    
    
    <a href="/posts/c&#43;&#43;2/" class="next">
        面向对象的程序设计学习笔记 2 &raquo;
    </a>
    
</nav>


</article>


<aside class="hover-toc">
    <div class="hover-toc-indicator"></div>
    <div class="hover-toc-panel">
        <h4>In this article</h4>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#1引用">1.引用</a>
      <ul>
        <li><a href="#引用写法">引用写法</a></li>
        <li><a href="#常引用">常引用</a></li>
      </ul>
    </li>
    <li><a href="#2const-关键字">2.const 关键字</a></li>
    <li><a href="#3动态内存分配">3.动态内存分配</a>
      <ul>
        <li><a href="#用-new-运算符实现动态内存分配">用 new 运算符实现动态内存分配</a></li>
        <li><a href="#用-delete-运算符释放动态分配的内存">用 delete 运算符释放动态分配的内存</a></li>
        <li><a href="#用-delete-运算符释放动态分配的数组">用 delete 运算符释放动态分配的数组</a></li>
      </ul>
    </li>
    <li><a href="#4内联函数函数重载函数缺省参数">4.内联函数、函数重载、函数缺省参数</a>
      <ul>
        <li><a href="#内联函数">内联函数</a></li>
        <li><a href="#函数重载">函数重载</a></li>
        <li><a href="#函数的缺省参数">函数的缺省参数</a></li>
      </ul>
    </li>
    <li><a href="#5类和对象的基本概念">5.类和对象的基本概念</a>
      <ul>
        <li><a href="#从客观事物中抽象出类">从客观事物中抽象出类</a></li>
        <li><a href="#使用类的成员变量和成员函数">使用类的成员变量和成员函数</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</aside>


        </main>
        <footer class="site-footer">
    <div class="container">
        <p>&copy; 2025 Kibrac. All rights reserved.</p>
    </div>
</footer>

    </div>
    <a id="back-to-top" href="#" title="返回顶部">&uarr;</a>
    <script src="/js/theme-switcher.js"></script>
    <script src="/js/main.js"></script>
</body>
</html>
